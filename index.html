<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Urban Patchwork</title>

  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <link href='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/MarkerCluster.css' rel='stylesheet' />
  <link href='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/MarkerCluster.Default.css' rel='stylesheet' />

  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/animate.css">
  <link rel="stylesheet" href="/css/leaflet.css">
  <link rel="stylesheet" href="/css/map.css">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body ng-app="up" ng-controller="MapCtrl" ng-cloak>

  <div class="container">
    <div class="row page-header">
      <div class="col-sm-8">
        <img src="/img/patchwork_logo.png" class="header-img" />
      </div>
      <div class="pull-right">
        <ul class="nav nav-pills main-nav">
          <li>
            <a href="/about">About</a>
          </li>
          <li>
            <a href="/projects/add">Add a Project</a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="wrap">
    <div class="map-controls pull-right">    
      <button class="btn btn-success btn-sm" ng-class="{'active': showCategories}" ng-click="showCategories = !showCategories">Categories</button>
      <button class="btn btn-info btn-sm" ng-click="toggleListView()">List View</button>
    </div>

    <div class="map-wrap">
      <div class="categories-list map-overlay-control animated" ng-show="showCategories">
        <button class="hide-btn btn btn-link btn-sm" ng-click="showCategories=false">
          <i class="fa fa-angle-double-left"></i>
        </button>
        <h4>Project Categories</h4>
        <ul>
          <li ng-repeat="cat in categories" class="category-item">
            <a href="" ng-click="toggleCategory(cat)">
              <i class="fa" ng-class="{'fa-check-square-o': cat.isSelected, 'fa-square-o': !cat.isSelected}"></i><span class="category-name">{{cat.name}}</span>
            </a>
          </li>
        </ul>
      </div>
      <div id="map"></div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-sm-8">
        <ul class="project-list">
          <li ng-repeat="proj in currentProjects">   
              <h4>{{proj.Name}}</h4>
              <p><small>{{proj.Category}}</small></p>
              <p>{{proj.Description}}</p>
              <p><a href="#"><i class="fa fa-info-circle"></i> Project Page</a></p>
          </li>
        </ul>
      </div>
    </div>
    <footer>

    </footer>
  </div>

  <script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular-animate.min.js"></script>
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

  <script src="/js/leaflet.js"></script>
  <script src='https://api.tiles.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/leaflet.markercluster.js'></script>
  <script src="/js/Leaflet.MakiMarkers.js"></script>
  
  <script src="/js/main-map.js"></script>
</body>
</html>